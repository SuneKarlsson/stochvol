<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0"><title>Prediction of Future Returns and Log-Volatilities — predict.svdraws • stochvol</title><!-- favicons --><link rel="icon" type="image/png" sizes="16x16" href="../favicon-16x16.png"><link rel="icon" type="image/png" sizes="32x32" href="../favicon-32x32.png"><link rel="apple-touch-icon" type="image/png" sizes="180x180" href="../apple-touch-icon.png"><link rel="apple-touch-icon" type="image/png" sizes="120x120" href="../apple-touch-icon-120x120.png"><link rel="apple-touch-icon" type="image/png" sizes="76x76" href="../apple-touch-icon-76x76.png"><link rel="apple-touch-icon" type="image/png" sizes="60x60" href="../apple-touch-icon-60x60.png"><!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script><!-- Bootstrap --><link href="https://cdnjs.cloudflare.com/ajax/libs/bootswatch/3.4.0/lumen/bootstrap.min.css" rel="stylesheet" crossorigin="anonymous"><script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script><!-- bootstrap-toc --><link rel="stylesheet" href="../bootstrap-toc.css"><script src="../bootstrap-toc.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous"><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous"><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet"><script src="../pkgdown.js"></script><meta property="og:title" content="Prediction of Future Returns and Log-Volatilities — predict.svdraws"><meta property="og:description" content="Simulates draws from the predictive density of the returns and the latent log-volatility
process. The same mean model is used for prediction as was used for fitting, which is
either a) no mean parameter, b) constant mean, c) AR(k) structure, or d) general
Bayesian regression. In the last case, new regressors need to be provided for prediction."><meta property="og:image" content="/logo.svg"><!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]--></head><body data-spy="scroll" data-target="#toc">
    

    <div class="container template-reference-topic">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">stochvol</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="">3.2.1</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav"><li>
  <a href="../reference/index.html">Reference</a>
</li>
<li>
  <a href="../news/index.html">Changelog</a>
</li>
      </ul><ul class="nav navbar-nav navbar-right"><li>
  <a href="https://github.com/gregorkastner/stochvol/" class="external-link">
    <span class="fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul></div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      

      </header><div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>Prediction of Future Returns and Log-Volatilities</h1>
    <small class="dont-index">Source: <a href="https://github.com/gregorkastner/stochvol/blob/HEAD/R/utilities_svdraws.R" class="external-link"><code>R/utilities_svdraws.R</code></a></small>
    <div class="hidden name"><code>predict.svdraws.Rd</code></div>
    </div>

    <div class="ref-description">
    <p>Simulates draws from the predictive density of the returns and the latent log-volatility
process. The same mean model is used for prediction as was used for fitting, which is
either a) no mean parameter, b) constant mean, c) AR(k) structure, or d) general
Bayesian regression. In the last case, new regressors need to be provided for prediction.</p>
    </div>

    <div id="ref-usage">
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="co"># S3 method for svdraws</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/stats/predict.html" class="external-link">predict</a></span><span class="op">(</span><span class="va">object</span>, steps <span class="op">=</span> <span class="fl">1L</span>, newdata <span class="op">=</span> <span class="cn">NULL</span>, <span class="va">...</span><span class="op">)</span></span></code></pre></div>
    </div>

    <div id="arguments">
    <h2>Arguments</h2>
    <dl><dt>object</dt>
<dd><p><code>svdraws</code> or <code>svldraws</code> object.</p></dd>


<dt>steps</dt>
<dd><p><em>optional</em> single number, coercible to integer. Denotes the number of
steps to forecast.</p></dd>


<dt>newdata</dt>
<dd><p><em>only in case d) of the description</em> corresponds to input
parameter <code>designmatrix</code> in <code><a href="svsample.html">svsample</a></code>.
A matrix of regressors with number of rows equal to parameter <code>steps</code>.</p></dd>


<dt>...</dt>
<dd><p>currently ignored.</p></dd>

</dl></div>
    <div id="value">
    <h2>Value</h2>
    

<p>Returns an object of class <code>svpredict</code>, a list containing
three elements:</p>
<dl><dt>vol</dt>
<dd><p><code>mcmc.list</code> object of simulations from the predictive density of the standard deviations <code>sd_(n+1),...,sd_(n+steps)</code></p></dd>

<dt>h</dt>
<dd><p><code>mcmc.list</code> object of simulations from the predictive density of <code>h_(n+1),...,h_(n+steps)</code></p></dd>

<dt>y</dt>
<dd><p><code>mcmc.list</code> object of simulations from the predictive density of <code>y_(n+1),...,y_(n+steps)</code></p></dd>

</dl></div>
    <div id="note">
    <h2>Note</h2>
    <p>You can use the resulting object within <code><a href="plot.svdraws.html">plot.svdraws</a></code> (see example below), or use
the list items in the usual <code>coda</code> methods for <code>mcmc</code> objects to
print, plot, or summarize the predictions.</p>
    </div>
    <div id="see-also">
    <h2>See also</h2>
    <div class="dont-index"><p><code><a href="plot.svdraws.html">plot.svdraws</a></code>, <code><a href="volplot.html">volplot</a></code>.</p></div>
    </div>

    <div id="ref-examples">
    <h2>Examples</h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span><span class="co"># Example 1</span></span></span>
<span class="r-in"><span><span class="co">## Simulate a short and highly persistent SV process </span></span></span>
<span class="r-in"><span><span class="va">sim</span> <span class="op">&lt;-</span> <span class="fu"><a href="svsim.html">svsim</a></span><span class="op">(</span><span class="fl">100</span>, mu <span class="op">=</span> <span class="op">-</span><span class="fl">10</span>, phi <span class="op">=</span> <span class="fl">0.99</span>, sigma <span class="op">=</span> <span class="fl">0.2</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co">## Obtain 5000 draws from the sampler (that's not a lot)</span></span></span>
<span class="r-in"><span><span class="va">draws</span> <span class="op">&lt;-</span> <span class="fu"><a href="svsample.html">svsample</a></span><span class="op">(</span><span class="va">sim</span><span class="op">$</span><span class="va">y</span>, draws <span class="op">=</span> <span class="fl">5000</span>, burnin <span class="op">=</span> <span class="fl">100</span>,</span></span>
<span class="r-in"><span>  priormu <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="op">-</span><span class="fl">10</span>, <span class="fl">1</span><span class="op">)</span>, priorphi <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">20</span>, <span class="fl">1.5</span><span class="op">)</span>, priorsigma <span class="op">=</span> <span class="fl">0.2</span><span class="op">)</span></span></span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> Done!</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> Summarizing posterior draws...</span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co">## Predict 10 days ahead</span></span></span>
<span class="r-in"><span><span class="va">fore</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/stats/predict.html" class="external-link">predict</a></span><span class="op">(</span><span class="va">draws</span>, <span class="fl">10</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co">## Check out the results</span></span></span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/base/summary.html" class="external-link">summary</a></span><span class="op">(</span><span class="fu"><a href="extractors.html">predlatent</a></span><span class="op">(</span><span class="va">fore</span><span class="op">)</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Iterations = 1:5000</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Thinning interval = 1 </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Number of chains = 1 </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Sample size per chain = 5000 </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 1. Empirical mean and standard deviation for each variable,</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>    plus standard error of the mean:</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>         Mean     SD Naive SE Time-series SE</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> h_101 -9.874 0.3775 0.005338       0.009134</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> h_102 -9.869 0.3870 0.005473       0.008886</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> h_103 -9.865 0.3985 0.005635       0.008791</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> h_104 -9.864 0.4094 0.005790       0.008633</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> h_105 -9.858 0.4126 0.005835       0.008682</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> h_106 -9.856 0.4199 0.005938       0.008494</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> h_107 -9.857 0.4242 0.005999       0.008371</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> h_108 -9.857 0.4277 0.006048       0.008724</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> h_109 -9.859 0.4263 0.006029       0.008870</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> h_110 -9.856 0.4261 0.006027       0.008307</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 2. Quantiles for each variable:</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>         2.5%    25%    50%    75%  97.5%</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> h_101 -10.70 -10.07 -9.860 -9.672 -9.119</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> h_102 -10.71 -10.07 -9.854 -9.659 -9.094</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> h_103 -10.72 -10.06 -9.854 -9.657 -9.075</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> h_104 -10.75 -10.07 -9.849 -9.648 -9.062</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> h_105 -10.75 -10.06 -9.844 -9.650 -9.021</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> h_106 -10.74 -10.06 -9.845 -9.641 -8.992</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> h_107 -10.76 -10.06 -9.844 -9.648 -8.990</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> h_108 -10.77 -10.06 -9.848 -9.646 -9.025</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> h_109 -10.76 -10.06 -9.842 -9.644 -9.004</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> h_110 -10.73 -10.07 -9.843 -9.636 -8.991</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/base/summary.html" class="external-link">summary</a></span><span class="op">(</span><span class="fu"><a href="extractors.html">predy</a></span><span class="op">(</span><span class="va">fore</span><span class="op">)</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Iterations = 1:5000</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Thinning interval = 1 </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Number of chains = 1 </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Sample size per chain = 5000 </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 1. Empirical mean and standard deviation for each variable,</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>    plus standard error of the mean:</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>             Mean       SD  Naive SE Time-series SE</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> y_101  1.761e-04 0.007414 0.0001049      1.049e-04</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> y_102  1.487e-04 0.007508 0.0001062      9.804e-05</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> y_103  1.868e-04 0.007526 0.0001064      1.064e-04</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> y_104 -7.249e-05 0.007487 0.0001059      1.059e-04</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> y_105 -8.444e-05 0.007543 0.0001067      1.129e-04</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> y_106  7.872e-05 0.007540 0.0001066      1.096e-04</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> y_107  2.309e-04 0.007492 0.0001060      1.086e-04</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> y_108  4.062e-05 0.007759 0.0001097      1.072e-04</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> y_109 -3.433e-06 0.007586 0.0001073      1.073e-04</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> y_110  1.316e-05 0.007464 0.0001056      1.085e-04</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 2. Quantiles for each variable:</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>           2.5%       25%        50%      75%   97.5%</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> y_101 -0.01449 -0.004632  2.256e-04 0.004972 0.01499</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> y_102 -0.01482 -0.004610  2.654e-04 0.004893 0.01537</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> y_103 -0.01494 -0.004480  2.298e-04 0.004977 0.01488</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> y_104 -0.01513 -0.004899  6.112e-05 0.004673 0.01454</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> y_105 -0.01475 -0.005094 -1.997e-04 0.004845 0.01486</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> y_106 -0.01447 -0.004844  9.745e-05 0.004937 0.01535</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> y_107 -0.01480 -0.004478  3.622e-04 0.004900 0.01502</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> y_108 -0.01555 -0.004940  9.822e-05 0.004955 0.01536</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> y_109 -0.01516 -0.004939 -6.366e-05 0.004856 0.01472</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> y_110 -0.01443 -0.004790 -3.846e-05 0.004876 0.01478</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/graphics/plot.default.html" class="external-link">plot</a></span><span class="op">(</span><span class="va">draws</span>, forecast <span class="op">=</span> <span class="va">fore</span><span class="op">)</span></span></span>
<span class="r-plt img"><img src="predict.svdraws-1.png" alt="" width="700" height="433"></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># Example 2</span></span></span>
<span class="r-in"><span><span class="co">## Simulate now an SV process with an AR(1) mean structure</span></span></span>
<span class="r-in"><span><span class="va">len</span> <span class="op">&lt;-</span> <span class="fl">109L</span></span></span>
<span class="r-in"><span><span class="va">simar</span> <span class="op">&lt;-</span> <span class="fu"><a href="svsim.html">svsim</a></span><span class="op">(</span><span class="va">len</span>, phi <span class="op">=</span> <span class="fl">0.93</span>, sigma <span class="op">=</span> <span class="fl">0.15</span>, mu <span class="op">=</span> <span class="op">-</span><span class="fl">9</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="kw">for</span> <span class="op">(</span><span class="va">i</span> <span class="kw">in</span> <span class="fl">2</span><span class="op">:</span><span class="va">len</span><span class="op">)</span> <span class="op">{</span></span></span>
<span class="r-in"><span>  <span class="va">simar</span><span class="op">$</span><span class="va">y</span><span class="op">[</span><span class="va">i</span><span class="op">]</span> <span class="op">&lt;-</span> <span class="fl">0.1</span> <span class="op">-</span> <span class="fl">0.7</span> <span class="op">*</span> <span class="va">simar</span><span class="op">$</span><span class="va">y</span><span class="op">[</span><span class="va">i</span><span class="op">-</span><span class="fl">1</span><span class="op">]</span> <span class="op">+</span> <span class="va">simar</span><span class="op">$</span><span class="va">vol</span><span class="op">[</span><span class="va">i</span><span class="op">]</span> <span class="op">*</span> <span class="fu"><a href="https://rdrr.io/r/stats/Normal.html" class="external-link">rnorm</a></span><span class="op">(</span><span class="fl">1</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="op">}</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co">## Obtain 7000 draws</span></span></span>
<span class="r-in"><span><span class="va">drawsar</span> <span class="op">&lt;-</span> <span class="fu"><a href="svsample.html">svsample</a></span><span class="op">(</span><span class="va">simar</span><span class="op">$</span><span class="va">y</span>, draws <span class="op">=</span> <span class="fl">7000</span>, burnin <span class="op">=</span> <span class="fl">300</span>,</span></span>
<span class="r-in"><span>  designmatrix <span class="op">=</span> <span class="st">"ar1"</span>, priormu <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="op">-</span><span class="fl">10</span>, <span class="fl">1</span><span class="op">)</span>, priorphi <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">20</span>, <span class="fl">1.5</span><span class="op">)</span>,</span></span>
<span class="r-in"><span>  priorsigma <span class="op">=</span> <span class="fl">0.2</span><span class="op">)</span></span></span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> Done!</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> Summarizing posterior draws...</span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co">## Predict 7 days ahead (using AR(1) mean for the returns)</span></span></span>
<span class="r-in"><span><span class="va">forear</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/stats/predict.html" class="external-link">predict</a></span><span class="op">(</span><span class="va">drawsar</span>, <span class="fl">7</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co">## Check out the results</span></span></span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/graphics/plot.default.html" class="external-link">plot</a></span><span class="op">(</span><span class="va">forear</span><span class="op">)</span></span></span>
<span class="r-plt img"><img src="predict.svdraws-2.png" alt="" width="700" height="433"></span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/graphics/plot.default.html" class="external-link">plot</a></span><span class="op">(</span><span class="va">drawsar</span>, forecast <span class="op">=</span> <span class="va">forear</span><span class="op">)</span></span></span>
<span class="r-plt img"><img src="predict.svdraws-3.png" alt="" width="700" height="433"></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="kw">if</span> <span class="op">(</span><span class="cn">FALSE</span><span class="op">)</span> <span class="op">{</span></span></span>
<span class="r-in"><span><span class="co"># Example 3</span></span></span>
<span class="r-in"><span><span class="co">## Simulate now an SV process with leverage and with non-zero mean</span></span></span>
<span class="r-in"><span><span class="va">len</span> <span class="op">&lt;-</span> <span class="fl">96L</span></span></span>
<span class="r-in"><span><span class="va">regressors</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/cbind.html" class="external-link">cbind</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/rep.html" class="external-link">rep_len</a></span><span class="op">(</span><span class="fl">1</span>, <span class="va">len</span><span class="op">)</span>, <span class="fu"><a href="https://rdrr.io/r/stats/GammaDist.html" class="external-link">rgamma</a></span><span class="op">(</span><span class="va">len</span>, <span class="fl">0.5</span>, <span class="fl">0.25</span><span class="op">)</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">betas</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/cbind.html" class="external-link">rbind</a></span><span class="op">(</span><span class="op">-</span><span class="fl">1.1</span>, <span class="fl">2</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">simreg</span> <span class="op">&lt;-</span> <span class="fu"><a href="svsim.html">svsim</a></span><span class="op">(</span><span class="va">len</span>, rho <span class="op">=</span> <span class="op">-</span><span class="fl">0.42</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">simreg</span><span class="op">$</span><span class="va">y</span> <span class="op">&lt;-</span> <span class="va">simreg</span><span class="op">$</span><span class="va">y</span> <span class="op">+</span> <span class="fu"><a href="https://rdrr.io/r/base/numeric.html" class="external-link">as.numeric</a></span><span class="op">(</span><span class="va">regressors</span> <span class="op"><a href="https://rdrr.io/r/base/matmult.html" class="external-link">%*%</a></span> <span class="va">betas</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co">## Obtain 12000 draws</span></span></span>
<span class="r-in"><span><span class="va">drawsreg</span> <span class="op">&lt;-</span> <span class="fu"><a href="svsample.html">svsample</a></span><span class="op">(</span><span class="va">simreg</span><span class="op">$</span><span class="va">y</span>, draws <span class="op">=</span> <span class="fl">12000</span>, burnin <span class="op">=</span> <span class="fl">3000</span>,</span></span>
<span class="r-in"><span>  designmatrix <span class="op">=</span> <span class="va">regressors</span>, priormu <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="op">-</span><span class="fl">10</span>, <span class="fl">1</span><span class="op">)</span>, priorphi <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">20</span>, <span class="fl">1.5</span><span class="op">)</span>,</span></span>
<span class="r-in"><span>  priorsigma <span class="op">=</span> <span class="fl">0.2</span>, priorrho <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">4</span>, <span class="fl">4</span><span class="op">)</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co">## Predict 5 days ahead using new regressors</span></span></span>
<span class="r-in"><span><span class="va">predlen</span> <span class="op">&lt;-</span> <span class="fl">5L</span></span></span>
<span class="r-in"><span><span class="va">predregressors</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/cbind.html" class="external-link">cbind</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/rep.html" class="external-link">rep_len</a></span><span class="op">(</span><span class="fl">1</span>, <span class="va">predlen</span><span class="op">)</span>, <span class="fu"><a href="https://rdrr.io/r/stats/GammaDist.html" class="external-link">rgamma</a></span><span class="op">(</span><span class="va">predlen</span>, <span class="fl">0.5</span>, <span class="fl">0.25</span><span class="op">)</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">forereg</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/stats/predict.html" class="external-link">predict</a></span><span class="op">(</span><span class="va">drawsreg</span>, <span class="va">predlen</span>, <span class="va">predregressors</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co">## Check out the results</span></span></span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/base/summary.html" class="external-link">summary</a></span><span class="op">(</span><span class="fu"><a href="extractors.html">predlatent</a></span><span class="op">(</span><span class="va">forereg</span><span class="op">)</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/base/summary.html" class="external-link">summary</a></span><span class="op">(</span><span class="fu"><a href="extractors.html">predy</a></span><span class="op">(</span><span class="va">forereg</span><span class="op">)</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/graphics/plot.default.html" class="external-link">plot</a></span><span class="op">(</span><span class="va">forereg</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/graphics/plot.default.html" class="external-link">plot</a></span><span class="op">(</span><span class="va">drawsreg</span>, forecast <span class="op">=</span> <span class="va">forereg</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="op">}</span></span></span>
<span class="r-in"><span></span></span>
</code></pre></div>
    </div>
  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">
    <nav id="toc" data-toggle="toc" class="sticky-top"><h2 data-toc-skip>Contents</h2>
    </nav></div>
</div>


      <footer><div class="copyright">
  <p></p><p>Developed by Darjus Hosszejni, Gregor Kastner.</p>
</div>

<div class="pkgdown">
  <p></p><p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.7.</p>
</div>

      </footer></div>

  


  

  </body></html>

